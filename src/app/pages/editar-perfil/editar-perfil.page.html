<ion-header>
  <ion-toolbar color="omipalidarkd" class="toolbar" class="ion-text-center">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">
      Omi & Pali
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="contenedor content">
  <ion-row class="centrado image-perfil">
    <ion-col class="centrado" *ngIf="!base64">
      <img class="profile-photo" src="/assets/img/user.png" />
    </ion-col>
    <ion-col class="centrado" *ngIf="base64">
      <img class="profile-photo" [src]="base64" />
    </ion-col>
  </ion-row>

  <ion-row class="centrado">
    <ion-col>
      <!-- <ion-input type="file" (change)="onFileSelected($event)" class="ion-margin-start ion-margin-end"></ion-input> -->
      <ion-button type="file" class="ion-margin-start ion-margin-end"
        color="omipalidarkd" (click)="cargarFotoGaleria()">
        Cargar imagen
      </ion-button>
    </ion-col>
  </ion-row>
  <ion-row>
    <div class="ion-margin contendorf">
      <form [formGroup]="userDataForm">
        <ion-list>
          <ion-item>
            <ion-input type="text" placeholder="Nombre" class="inputform"
              formControlName="namesField"></ion-input>
          </ion-item>
          <div class="container-error-message alert-danger" *ngIf="getError('namesField') != ''">
            <ion-icon slot="start" name="information-circle-sharp" color="danger"></ion-icon>
            <strong> {{getError('namesField')}} </strong>
          </div>
          <ion-item>
            <ion-input type="tel" maxlength="10" placeholder="Teléfono" class="inputform"
              formControlName="phoneField">
            </ion-input>
          </ion-item>
          <div class="container-error-message alert-danger" *ngIf="getError('phoneField') != ''">
            <ion-icon slot="start" name="information-circle-sharp" color="danger"></ion-icon>
            <strong> {{getError('phoneField')}}</strong>
          </div>
          <ion-item>
            <ion-input type="text" placeholder="Correo Electrónico" class="inputform"
              formControlName="emailField" disabled>
            </ion-input>
          </ion-item>
          <div class="container-error-message alert-danger" *ngIf="getError('emailField') != ''">
            <ion-icon slot="start" name="information-circle-sharp" color="danger"></ion-icon>
            <strong>{{getError('emailField')}}</strong>
          </div>
        </ion-list>
        <ion-item-divider class="centrado">
          <ion-label class="centrado divider">
            UBICACIÓN
          </ion-label>
        </ion-item-divider>
        <div>
          <ion-item>
            <ion-input type="text" placeholder="Dirección" class="inputform"
              formControlName="directionField">
            </ion-input>
            <ion-button type="button" class="ion-map-button" color="omipalidarkd" expand="block" (click)="openModal()">
              <ion-icon color="omipali" name="map-outline"></ion-icon>
            </ion-button>
          </ion-item>
          <div class="container-error-message alert-danger" *ngIf="getError('directionField') != ''">
            <ion-icon slot="start" name="information-circle-sharp" color="danger"></ion-icon>
            <strong>{{getError('directionField')}}</strong>
          </div>
        </div>
        <ion-item>
          <ion-input formControlName="referencia" type="text" placeholder="Referencia" class="inputform">
          </ion-input>
        </ion-item>
        <div class="container-error-message alert-danger" *ngIf="getError('referencia') != ''">
          <ion-icon slot="start" name="information-circle-sharp" color="danger"></ion-icon>
          <strong>{{getError('referencia')}}</strong>
        </div>
      </form>

      <ion-button class="ion-margin-start ion-margin-end ion-butt-save" color="omipalidarkd" type="submit"
        expand="block" (click)="guardarCambios()" *ngIf="validarCambiosDatos();" [disabled]="userDataForm.invalid">
        Guardar Cambios
      </ion-button>
    </div>
  </ion-row>
</ion-content>