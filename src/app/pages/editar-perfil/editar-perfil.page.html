<ion-header>
  <ion-toolbar color="omipalidarkd" class="toolbar">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      Omi Pali
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="contenedor content">
  <ion-row class="centrado image-perfil">
    <ion-col class="centrado">
      <img
        class="profile-photo"
        src="/assets/img/user.png"
        (click)="zoomImage()"
      />
    </ion-col>
  </ion-row>

  <ion-row class="centrado">
    <ion-col>
      <ion-button
        class="ion-margin-start ion-margin-end"
        color="omipalidarkd"
        (click)="abrirEdicion()"
      >
        Cargar imagen
      </ion-button>
    </ion-col>
  </ion-row>

  <ion-content class="content">
    <form [formGroup]="userDataForm" (ngSubmit)="submit()">
      <ion-list>
        <div class="item">
          <ion-item>
            <ion-label position="floating">Usuario</ion-label>
            <ion-textarea
              class="input-from"
              autocapitalize
              inputmode="text"
              formControlName="name"
              rows="1"
            ></ion-textarea>
          </ion-item>
          <div>
            <ng-container *ngIf="!name.valid && (name.dirty || name.touched)">
              <div class="error-message">
                <ion-icon
                  slot="start"
                  name="information-circle-sharp"
                  color="danger"
                ></ion-icon>
                {{MessageValidator(name.hasError("required"))}}
              </div>
            </ng-container>
          </div>
        </div>
        <div class="item">
          <ion-item>
            <ion-label position="floating">Celular</ion-label>
            <ion-textarea
              class="input-from"
              inputmode="tel"
              formControlName="phone"
              rows="1"
            ></ion-textarea>
          </ion-item>
          <div>
            <ng-container
              *ngIf="!phone.valid && (phone.dirty || phone.touched)"
            >
              <div class="error-message">
                <ion-icon
                  slot="start"
                  name="information-circle-sharp"
                  color="danger"
                ></ion-icon>
                {{MessageValidator(phone.hasError("required"))}}
              </div>
            </ng-container>
          </div>
        </div>

        <div class="item">
          <ion-item>
            <ion-label position="floating">Email</ion-label>
            <ion-textarea
              class="input-from"
              inputmode="email"
              formControlName="email"
              rows="1"
            ></ion-textarea>
          </ion-item>
          <div>
            <ng-container
              *ngIf="!email.valid && (email.dirty || email.touched)"
            >
              <div class="error-message">
                <ion-icon
                  slot="start"
                  name="information-circle-sharp"
                  color="danger"
                ></ion-icon>
                {{MessageValidator(email.hasError("required"))}}
              </div>
            </ng-container>
          </div>
        </div>

        <ion-item-divider class="centrado">
          <ion-label class="centrado divider">
            UBICACIÓN
          </ion-label>
        </ion-item-divider>

        <div>
          <ion-item>
            <ion-label position="floating" class="direccion item-direcc"
              >Dirección</ion-label
            >
            <ion-button
              type="button"
              class="ion-map-button"
              color="omipalidarkd"
              expand="block"
              (click)="openModal()"
            >
              <ion-icon color="omipali" name="map-outline"></ion-icon>
            </ion-button>
            <ion-textarea
              class="input-from"
              autocapitalize
              inputmode="text"
              rows="1"
            ></ion-textarea>
          </ion-item>
        </div>

        <div>
          <ion-item>
            <ion-label position="floating" class="direccion item-direcc"
              >Referencias</ion-label
            >

            <ion-textarea
              class="input-from"
              autocapitalize
              inputmode="text"
            ></ion-textarea>
          </ion-item>
        </div>
      </ion-list>
    </form>

    <ion-button
      [disabled]="!userDataForm.valid"
      class="ion-margin-start ion-margin-end ion-butt-save"
      color="omipalidarkd"
      type="submit"
      expand="block"
    >
      Guardar Cambios
    </ion-button>
  </ion-content>
</ion-content>
